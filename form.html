<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widtd=device-widtd, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="form-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="header">
                <img alt="logo.png" src="/imagenes/buhoLogo.png" width="50px" height="50px"> 
                <h1>OwlCinema</h1>
                <img id="search" alt="search.png" src="/imagenes/search.png" width=45px>
                <i class="fa-solid fa-circle-user" style="color: #ffffff; font-size: 35px;" "></i>  
        </div>
        <div class="navbar">
            <a href="index.html">Inicio</a>
            <a href="#">Rese√±as</a>
            <a href="#">Reservar entradas</a>
        </div>
    </header>

    <div class="container">
        <div class="contenido">
            <div class="tabla">
                <h3>Elija sus asientos:</h3>
                <table id="tablaAsientos">
                    <tr><td></td>
                        <td>1</td>
                        <td>2</td>
                        <td>3</td>
                        <td>4</td>
                        <td>5</td>
                        <td>6</td>
                        <td>7</td>
                        <td>8</td>
                        <td>9</td>
                        <td>10</td>
                    </tr>
                    <tr>
                        <td>a</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>b</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>c</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>d</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>e</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>f</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>g</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>h</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    <tr>
                        <td>i</td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                        <td><i class="fa-solid fa-couch"></i></td>
                    </tr>
                    
                    
                </table>
            </div>
            <div class="formulario">
                <form class="frm" onsubmit="return validar()">
                    <p>Elija la fecha:</p>
                    <div class="fechas">
                        <div><p>22/05</p></div>
                        <div><p>23/05</p></div>
                        <div><p>24/05</p></div>
                    </div>
                    <p>Elija la Hora:</p>
                    <div class="horas">
                        <div><p>8:00</p></div>
                        <div><p>9:00</p></div>
                        <div><p>10:00</p></div>
                        <div><p>11:00</p></div>
                    </div><br>
                    <div>
                        <label for="txtNombre">Nombre:</label><br>
                        <input type="text" id="txtNombre">  
                    </div><br>
                    <div>
                        <label for="txtApellido">Apellido:</label><br>
                        <input type="text" id="txtApellido">  
                    </div><br>
                    <div>
                        <label for="metodoPago">Inserte metodo de pago:</label>
                        <select name="metodoPago" id="metodoPago">
                            <option value="visa">Visa</option>
                            <option value="mastercard">Mastercard</option>
                        </select>
                    </div><br>
                    <button type="submit">Reservar entrada</button>      
                </form>
                <div class="salida" id="salida"></div>
            </div>
            <div class="peliculaImagen">  
            </div>
        </div>        
    </div>
    
    <footer>
        <div class="footer">
            <div class="logo">
                <img alt="logo.png" src="imagenes/buhoLogo.png" width="35px" height="35px">
                <div>
                <h2>OwlCinema</h2>
                </div>
            </div>
            <ul class="social">
              <li><a href="#"><i class="fa-brands fa-facebook" style="color: #ffffff; font-size: 22px;"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-x-twitter" style="color: #ffffff; font-size: 22px;"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-instagram" style="color: #ffffff; font-size: 22px;"></i></a></li>
              <li><a href="#"><i class="fa-brands fa-tiktok" style="color: #ffffff; font-size: 22px;"></i></a></li>
            </ul>
        </div>
    </footer>

    <script>
            // Formulario
            let txtNombre = document.getElementById("txtNombre");
            let txtApellido = document.getElementById("txtApellido");
            let fechaAct = "";
            let horaAct = "";
            const fechas = document.querySelectorAll(".fechas div")
            const horas = document.querySelectorAll(".horas div")

            // Tabla asientos
            const tabla = document.getElementById("tabla")
            const celdas = document.querySelectorAll('#tablaAsientos td');
            const filas = ['a','b','c','d','e','f','g','h','i'];
            const columnas = [1,2,3,4,5,6,7,8,9,10];

            // Asignar id a cada celda
            let index = 0;
            for(let i = 0; i < filas.length; i++){
                for(let j = 0; j < columnas.length; j++){
                    celdas[index].id = `${filas[i]}${columnas[j]}`;
                    index ++;
                }
            }

            // Evento para asignar clase color verde a cada asiento
            celdas.forEach(celda => {
                celda.addEventListener('click',() => {
                if (celda.classList.contains('asientoActivo')) {
                    celda.classList.remove('asientoActivo');
                } else {
                    celda.classList.add('asientoActivo');
                }
                })
            })
           
            fechas.forEach(fecha => {
                fecha.addEventListener("click",() => {
                fechas.forEach(f => f.classList.remove("fechaActiva"));
                fecha.classList.add("fechaActiva");
                fechaAct = fecha.textContent;
                })
            })

            horas.forEach(hora => {
                hora.addEventListener("click",() => {
                horas.forEach(h => h.classList.remove("horaActiva"));
                hora.classList.add("horaActiva");
                horaAct = hora.textContent;
                })
            })

            function validar(){
                const nombre = txtNombre.value;
                const apellido = txtApellido.value;
                const celdasVerdes = Array.from(celdas).filter(celda => celda.classList.contains("asientoActivo"));
                const idVerdes = celdasVerdes.map(celda => celda.id);

                const celdaElem = document.createElement("p")  
                celdaElem.textContent = `Asientos Reservados: ${idVerdes.join(',')}`;

                const nombreElem = document.createElement("p");
                nombreElem.textContent = `Nombre: ${nombre}`;
                const apellidoElem = document.createElement("p");
                apellidoElem.textContent = `Apellido: ${apellido}`;

                const fechaElem = document.createElement("p");
                fechaElem.textContent = `Fecha: ${fechaAct}`;
                const horaElem = document.createElement("p");
                horaElem.textContent = `Hora: ${horaAct}`;

                const salidaDiv = document.getElementById("salida");
                salidaDiv.innerHTML = "";
                salidaDiv.appendChild(celdaElem);
                salidaDiv.appendChild(nombreElem);
                salidaDiv.appendChild(apellidoElem);
                salidaDiv.appendChild(fechaElem);
                salidaDiv.appendChild(horaElem);
                return false;
            }
    </script>
</body>
</html>